webpackJsonp([1],{"1/oy":function(t,e){},"9M+g":function(t,e){},EMM5:function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},J3RC:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},i,!1,function(t){n("qheS")},null,null).exports,a=n("/ocq"),c=n("mtWM"),r=n.n(c),u=function(){return r.a.create({baseURL:"https://polls.apiblueprint.org",headers:{Accept:"application/json","Content-Type":"application/json"}})},d=function(){return u().get("/questions")},l=function(t){return u().post(t)},v={props:{index:{require:!0},question:{required:!0}},data:function(){return{}},methods:{dateFormatter:function(t){return new Date(t).toLocaleDateString().toString()}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-content"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col col-1"},[t._v(" "+t._s(t.index+1)+" ")]),t._v(" "),n("div",{staticClass:"col col-10"},[t._v(" \n            "+t._s(t.question.question)),n("hr"),t._v(" "),n("div",{staticClass:"question-details"},[n("span",{staticClass:"date"},[t._v(" published at :"+t._s(t.dateFormatter(t.question.published_at)))]),t._v(" "),n("span",{staticClass:"choices"},[t._v(" "+t._s(t.question.choices.length)+" choices ")])])]),t._v(" "),n("div",{staticClass:"col col-1"},[n("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"num-"+t.index,expression:"'num-'+index"}],staticClass:"vote-btn",attrs:{block:"",href:"#"}})])])])},staticRenderFns:[]};var p={components:{QuestionDetails:n("VU/8")(v,h,!1,function(t){n("J3RC")},null,null).exports},data:function(){return{questionsList:[],checkedChoice:{},show:!1}},created:function(){this.getQuestions()},methods:{getQuestions:function(){var t=this;return d().then(function(e){return t.questionsList=e.data}).catch(function(t){return console.log("error :",t)}),this.questionsList},dateFormatter:function(t){return new Date(t).toLocaleDateString().toString()},getChoicePercentage:function(t,e){var n=0;return t.map(function(t){return n+=t.votes}),n>0?(e.votes*(100/n)).toFixed(2):0},voteOnAChoice:function(t){var e=this;l(t.url).then(function(t){return e.getQuestions()}).catch(function(t){return console.log(t)})}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"centred-wrapper"},[n("div",{attrs:{role:"tablist"}},t._l(t.questionsList,function(e,s){return n("b-card",{key:s,staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"header",attrs:{"header-tag":"header",role:"tab"}},[n("question-details",{attrs:{index:s,question:e}})],1),t._v(" "),n("b-collapse",{attrs:{id:"num-"+s,accordion:"my-accordion",role:"tabpanel"}},[n("b-card-body",[n("p",{staticClass:"card-text"},[n("table",t._l(e.choices,function(s){return n("tr",[n("td",[t._v(" "+t._s(s.choice))]),t._v(" "),n("td",[t._v(t._s(s.votes)+" votes")]),t._v(" "),n("td",[t._v(t._s(t.getChoicePercentage(e.choices,s))+" %")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedChoice,expression:"checkedChoice"}],attrs:{type:"radio",id:s},domProps:{value:s,checked:t._q(t.checkedChoice,s)},on:{change:function(e){t.checkedChoice=s}}})])])}))]),t._v(" "),n("p",{staticClass:"card-text btn-wrapper"},[n("b-button",{attrs:{size:"50",variant:"success"},on:{click:function(e){t.voteOnAChoice(t.checkedChoice)}}},[t._v("Submit")])],1)])],1)],1)}))])])},staticRenderFns:[]};var _={components:{QuestionsList:n("VU/8")(p,f,!1,function(t){n("EMM5")},"data-v-2a8c0539",null).exports},data:function(){return{}},created:function(){},methods:{}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("questions-list")],1)},staticRenderFns:[]};var C=n("VU/8")(_,m,!1,function(t){n("ZHHI")},"data-v-db873d52",null).exports;s.a.use(a.a);var b=new a.a({routes:[{path:"/",name:"MainPage",component:C}]}),g=n("cOEn"),q=n("e6fC");n("Jmt5"),n("9M+g");s.a.config.productionTip=!1,s.a.use(g.Collapse),s.a.use(q.a),new s.a({el:"#app",router:b,components:{App:o},template:"<App/>"})},ZHHI:function(t,e){},qheS:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e210b037dd747a8eab4d.js.map